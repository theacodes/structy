#pragma once

/*
    Hey this file was generated by Structy from
    {{source}}. Maybe don't edit it!
*/

#include "structy.h"
{% for kind in struct.unique_kinds if kind.c_includes: %}
{%- for include in kind.c_includes %}
{{include}}
{%- endfor %}
{%- endfor %}

#define {{struct.name|upper}}_PACKED_SIZE {{struct.packed_size}}

struct {{struct.name}} {
    {%- for field in struct.fields: %}

    {%- if field.docstring %}
    /* {{field.docstring}} */
    {%- endif %}
    {{field.kind.c_type}} {{field.name}};
    {%- endfor %}
};

void {{struct.name}}_init(struct {{struct.name}}* inst);
struct StructyResult {{struct.name}}_pack(const struct {{struct.name}}* inst, uint8_t* buf);
struct StructyResult {{struct.name}}_unpack(struct {{struct.name}}* inst, const uint8_t* buf);
void {{struct.name}}_print(const struct {{struct.name}}* inst);
